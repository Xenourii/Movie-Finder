<ion-header>
  <ion-toolbar>
    <ion-title>
      Your profile
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <h1>Favorite</h1>

  <ion-text *ngIf="medias?.length == 0">Empty favorites list</ion-text>

  <ion-list>
    <ion-item-sliding *ngFor="let media of medias">
      <ion-item (click)="onBookmarkedMediaClick(media)">
        <ion-label>{{media.Title}}</ion-label>
      </ion-item>
      <ion-item-options side="end">
        <ion-item-option color="danger" (click)="onBookmarkedMediaRemove(media)">
          Remove
          <ion-icon slot="start" name="trash"></ion-icon>
        </ion-item-option>
      </ion-item-options>
    </ion-item-sliding>
  </ion-list>

  <h2>Import & Export Favorites</h2>

  <ion-item class="input-button">
    <input #uploader type="file" (change)="onImportClicked($event)" hidden="true" />
    <ion-button large (click)="uploader.click()" full icon-left>
      <ion-icon name="document"></ion-icon>
      Import
    </ion-button>
  </ion-item>

  <!-- Import & Export buttons -->

  <ion-button [disabled]="medias?.length == 0" *ngIf="isCordova" full icon-left (click)="onExportJsonClicked()">
    <ion-icon name="download"></ion-icon>
    Export JSON
  </ion-button>

  <ion-button [disabled]="medias?.length == 0" *ngIf="isCordova" full icon-left (click)="onExportCsvClicked()">
    <ion-icon name="download"></ion-icon>
    Export CSV
  </ion-button>

  <ion-item [disabled]="medias?.length == 0" *ngIf="!isCordova">
    <a #exportJsonBrowserLink id="exportJsonButton" (click)="setHrefExportJsonBrowser()" hidden="true" download="favorites.json"></a>
    <ion-button (click)="exportJsonBrowserLink.click()" full icon-left>
      <ion-icon name="download"></ion-icon>
      Export json browser
    </ion-button>
  </ion-item>

  <ion-item [disabled]="medias?.length == 0" *ngIf="!isCordova">
    <a #exportCsvBrowserLink id="exportCsvButton" (click)="setHrefExportCsvBrowser()" hidden="true" download="favorites.csv"></a>
    <ion-button (click)="exportCsvBrowserLink.click()" full icon-left>
      <ion-icon name="download"></ion-icon>
      Export csv browser
    </ion-button>
  </ion-item>

</ion-content>
